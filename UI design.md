
### **核心设计理念：工作流驱动 & 上下文保留**

1.  **工作流驱动 (Workflow-Driven):** 你的软件核心不是单个功能，而是引导用户完成一个从“提出问题”到“生成报告”的完整流程。因此，我们的设计必须**清晰地反映出用户当前处于哪个阶段**，并自然地引导他们进入下一阶段。

2.  **上下文保留 (Context Preservation):** 研究工作是连贯的。用户切换视图（比如从对话切换到文献树）时，不应该感觉是进入了一个全新的、无关的应用。设计需要保证“研究项目”这个核心上下文始终存在且清晰。

---

### **层级关系与布局解构 (The "What" & "Where")**

你提出的布局非常合理，我们来把它结构化，并给每个部分一个明确的定义：



#### **第一层：主导航栏 (L1 - The App Rail)**

这是位于最左侧的、通常是图标形式的窄边栏。它的作用是**切换整个应用的核心模块/上下文**。用户在这里点击，意味着“我要去做一件完全不同类型的事情了”。

*   **研究/对话 (Icon: 💬 or ✨):** 这是核心功能，是用户启动一切的地方。应该放在最顶部。
*   **文献库 (Icon: 📚 or 🗄️):** 管理用户个人的文献资料。这是用户的“弹药库”。
*   **知识图谱/文献树 (Icon: 🧠 or 🌳):** 浏览和管理所有已生成的研究树。这是用户的“成果展厅”。
*   **设置 (Icon: ⚙️):** 应用级别的设置。
*   **用户中心 (Avatar):** 放在最底部，管理个人信息、**额度**等。点击后可以清晰展示“已用/剩余额度”。

**设计理念:** 这一层必须极其稳定和简洁。它的存在是为了给用户提供一个“永远不迷路”的全局地图。

#### **第二层：列表/资源栏 (L2 - The List Pane)**

这一栏的内容**完全由 L1 的选择决定**。它的作用是展示当前模块下的具体项目列表。

*   **当 L1 选中“研究/对话”时:** 这里显示的是**“研究项目列表”**。每个条目可能包含：
    *   项目标题（AI 自动生成或用户自定义）
    *   创建/更新时间
    *   状态标签（例如：对话中、已生成文献树、已完成）
    *   最上方永远有一个醒目的 `+ 新建研究` 按钮。
*   **当 L1 选中“文献库”时:** 这里可以显示不同的文献集合（比如按文件夹或标签分类）。
*   **当 L1 选中“文献树”时:** 这里显示所有生成过的文献树列表。

**设计理念:** 这一层是组织和导航的核心。它让用户可以快速在多个并行的任务之间切换，同时保持清晰的组织结构。

#### **第三层：主工作区 (L3 - The Workspace)**

这是用户花费 90% 时间的地方，也是设计中最需要巧思的部分。它的内容由 L2 的选择决定。我们来想象一下一个完整的工作流在这里如何呈现：

**State 1: 新研究的“欢迎页” (Empty State)**
*   当用户点击 `+ 新建研究` 后，主工作区不应该是空白的。它应该是一个引导页面，中心有一个巨大的输入框，上面写着：“请输入你的研究课题或问题”，下面可能有一些引导性的例子（e.g., "探索AIGC在电影行业的应用"）。
*   **理念:** 消除用户的“空白页恐惧”，用明确的指令启动工作流。

**State 2: AI 对话界面 (Dialogue Interface)**
*   用户输入问题后，界面切换为对话模式。这部分可以借鉴主流 AI 对话应用，但要增加你的特色功能。
*   **交互强化:** AI 的回复中，如果包含需要用户“确认”的信息点或方向，不应该只是纯文本。可以设计成**可交互的卡片**。
    *   例如 AI 问：“您是指‘机器学习在金融风控中的应用’吗？”，后面可以跟两个按钮 `[确认这个方向]` `[我想换个说法]`。
*   **理念:** 让对话不只是聊天，而是结构化的决策过程。每一步确认都在为下一步“生成方案”铺路。

**State 3: 文献树可视化界面 (Tree Visualization)**
*   当方案确认，后端生成文献树后，主工作区将呈现一个**可交互的、可视化的树状/网络状图谱**。
*   **这是你的核心亮点，设计上要花最大力气！**
    *   **节点 (Node):** 每个节点代表一篇文献，上面应显示核心信息（标题、作者、年份）。
    *   **交互:**
        *   **悬停 (Hover):** 显示更详细的摘要。
        *   **点击 (Click):** 在右侧或弹窗中展开该文献的完整信息、引用关系、以及**用户批注**功能。
        *   **拖拽/编辑:** 用户应该可以手动调整树的结构，比如删除不相关的分支、添加自己已有的文献节点。
    *   **视图切换:** 提供“树状图”、“脑图”、“列表”等多种查看方式。
*   **理念:** 从线性对话转向非线性的、空间化的探索。赋予用户最高的控制权，让他们感觉自己是在“修剪”和“培育”这个知识树，而不仅仅是“查看”。

**State 4: 报告生成 (Report Generation)**
*   用户对文献树满意后，可以点击一个醒目的 `[生成研究报告]` 按钮。
*   这可能会弹出一个设置窗口，让用户选择报告的格式、详细程度、引用格式等。
*   **理念:** 这是工作流的终点，要给用户一种“收获”的成就感。

---

### **总结与讨论**

总的来说，这个设计理念的核心是：

1.  **清晰的层级:** 通过三栏式布局，将“应用模块 (L1)”、“项目列表 (L2)”、“具体工作 (L3)” 完美分离，逻辑清晰。
2.  **流动的状态:** 主工作区 (L3) 的设计是动态的，它根据用户的操作，在“引导页 → 对话 → 可视化图谱 → 报告”这几个状态间无缝切换，构成一个完整的工作流。
3.  **赋予控制权:** 在关键环节（对话确认、文献树交互）提供丰富的交互方式，让用户感觉自己是研究的主导者，AI 是强大的助手。
